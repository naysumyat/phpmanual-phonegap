<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Caso 3: configurando doc_root ou user_dir</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="security.cgi-bin.force-redirect.html">Caso 2: usando --enable-force-cgi-redirect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="security.cgi-bin.shell.html">Caso 4: Interpretador do PHP fora da &aacute;rvore de diret&oacute;rios do servidor web</a></div>
 <div class="up"><a href="security.cgi-bin.html">Instalando como bin&aacute;rio CGI</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="security.cgi-bin.doc-root" class="sect1">
    <h2 class="title">Caso 3: configurando doc_root ou user_dir</h2>
    <p class="simpara">
     Para incluir conteúdo ativo, como script e executáveis, nos
     diretórios de documentos do servidor é algumas vezes consideread uma
     prática insegura. Se, por conta de um erro de configuração, os scripts
     não são executados mas mostrados como documentos HTML normais, isso
     pode resultar em vazamento de propriedade intelectual ou informação
     de segurança, como senhas. Portanto, muitos administradores preferirão
     configura outra estrutura de diretório para scripts que são acessíveis
     apenas pelo CGI do PHP, e, portanto, sempre
     interpretados e não enviado ao navegador.
    </p>
    <p class="simpara">
     Além disso, se o método para assegura que as requisições não são
     redirecionadas, como descrito na seção anterior, não estiver
     disponível, é necessário configura um doc_root para os script que
     é diferente do doc_root do servidor web.
    </p>
    <p class="simpara">
     Você pode configura a raiz de documentos dos scripts PHP pela
     diretiva de configuração <a href="ini.core.html#ini.doc-root" class="link">doc_root</a> no
     <a href="configuration.file.html" class="link">arquivo de configuração</a>, ou
     você pode criar a variável de ambiente
     <span class="envar">PHP_DOCUMENT_ROOT</span>.  Se ela existir, a versão <acronym title="Common Gateway Interface">CGI</acronym>
     do PHP sempre construirá o nome de arquivo para ser aberto com esse
     <em><code class="parameter">doc_root</code></em> e a informação de caminho na
     requisição, para assegurar que nenhum script é executado fora desse
     diretório (exceto por <em><code class="parameter">user_dir</code></em>
     abaixo).
    </p>
    <p class="simpara">
     Outra opção utilizável é <a href="ini.core.html#ini.user-dir" class="link">user_dir</a>.  Quando user_dir não existir,
     a única coisa controlando o nome do arquivo aberto é
     <em><code class="parameter">doc_root</code></em>. Abrir uma URL como <var class="filename">http://my.host/~user/doc.php</var> não resulta
     em abrir um arquivo no diretório home de users, mas um arquivo
     chamado <var class="filename">~user/doc.php</var> dentro de
     doc_root (sim, um nome de diretório começando com til
     [<em>~</em>]).
    </p>
    <p class="simpara">
     Se user_dir existir e tiver valor de, por exemplo, <var class="filename">public_php</var>, uma requisição como <var class="filename">http://my.host/~user/doc.php</var> abrirá
     o arquivo chamado <var class="filename">doc.php</var> no diretório
     chamado <var class="filename">public_php</var> dentro do diretório
     home do usuário.  Se o home do usuário é <var class="filename">/home/user</var>, o arquivo executado é
     <var class="filename">/home/user/public_php/doc.php</var>.
    </p>
    <p class="simpara">
     A expansão de <em><code class="parameter">user_dir</code></em> acontece independente da
     configuração de <em><code class="parameter">doc_root</code></em>, para que você possa controlar
     a raiz de documentos e de acesso de diretório do usuário
     separadamente.
    </p>
   </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="security.cgi-bin.force-redirect.html">Caso 2: usando --enable-force-cgi-redirect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="security.cgi-bin.shell.html">Caso 4: Interpretador do PHP fora da &aacute;rvore de diret&oacute;rios do servidor web</a></div>
 <div class="up"><a href="security.cgi-bin.html">Instalando como bin&aacute;rio CGI</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
